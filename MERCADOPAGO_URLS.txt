â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    MERCADOPAGO DASHBOARD CONFIGURATION
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ… CURRENTLY USING: Cloudflare Tunnel (Webhook Testing Mode)

Current Cloudflare Tunnel URL:
https://oasis-rubber-linking-established.trycloudflare.com

âš ï¸  IMPORTANT: This URL changes every time you restart cloudflared!
âš ï¸  SSL Issue: Bitdefender may block this - see instructions below

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    URLS TO UPDATE IN MERCADOPAGO DASHBOARD
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ”— 1. OAuth Redirect URI
   Location: https://www.mercadopago.com/developers/panel/app
             â†’ Your App â†’ Settings â†’ Redirect URIs
   
   Add this URL:
   https://oasis-rubber-linking-established.trycloudflare.com/api/mp/oauth/callback


ğŸª 2. Webhook URL
   Location: https://www.mercadopago.com/developers/panel/app
             â†’ Your App â†’ Webhooks / Notifications
   
   Add this URL:
   https://oasis-rubber-linking-established.trycloudflare.com/api/mp/webhook
   
   Select events: âœ… Payments


ğŸ”‘ 3. Copy Credentials to .env file:
   
   From the MP Dashboard, copy:
   - APP_ID (Client ID) â†’ MP_CLIENT_ID
   - Client Secret â†’ MP_CLIENT_SECRET
   - Webhook Secret â†’ WEEBHOOK_SECRET


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    WHEN TUNNEL URL CHANGES
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

If you restart cloudflared and get a new tunnel URL:

1. Check new URL in logs:
   tail -f /tmp/cloudflared-tunnel.log | grep "https://"

2. Update in MercadoPago Dashboard:
   - Redirect URI (above)
   - Webhook URL (above)

3. Update in your code:
   - .env file (MP_REDIRECT_URI, PUBLIC_APP_URL, PUBLIC_WEBHOOK_URL)
   - capacitor.config.ts (server.url)

4. Restart dev server:
   pkill -f "vite dev"
   npm run dev -- --host 0.0.0.0

5. Sync iOS:
   npx cap sync ios

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    CURRENT SERVER STATUS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ… Dev Server: Running on http://localhost:5174
âœ… Cloudflare Tunnel: Running - Public URL active
âœ… Capacitor Config: Updated with tunnel URL
âœ… iOS Project: Synced and ready
âœ… .env file: Created (needs your MP credentials)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Next Steps:
1. Fix Bitdefender SSL issue (see below) âš ï¸ IMPORTANT
2. Update .env with your MercadoPago TEST credentials
3. Add the URLs above to MercadoPago dashboard
4. Restart dev server (to load new .env values)
5. Run app in Xcode simulator (already open)
6. Test the complete flow with webhooks!

For detailed instructions, see: SETUP_INSTRUCTIONS.md

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    ğŸ”’ FIXING BITDEFENDER SSL ISSUE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Your Mac has Bitdefender (or similar antivirus) that intercepts HTTPS
traffic with its own certificate. iOS doesn't trust this certificate.

ğŸ¯ SOLUTION - Choose ONE:

Option A: Disable SSL Scanning Temporarily (Recommended)
--------------------------------------------------------
1. Open Bitdefender
2. Go to: Protection â†’ Web Protection â†’ Settings
3. Find "Scan SSL" or "SSL Scanning"
4. Disable it (or pause protection temporarily)
5. Run your iOS app - should work now!
6. Re-enable when done testing

Option B: Add Exception for Cloudflare Tunnel
---------------------------------------------
1. Open Bitdefender
2. Go to: Protection â†’ Web Protection â†’ Settings
3. Find "SSL Exceptions" or "Whitelist"
4. Add: *.trycloudflare.com
5. Save and restart app

Option C: Switch Back to Local IP (No webhooks)
-----------------------------------------------
If you can't modify Bitdefender settings:

Edit capacitor.config.ts:
```
server: {
  url: "http://192.168.10.175:5174",
  cleartext: true
}
```

Then run: npx cap sync ios

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    ğŸ§ª TESTING IF SSL WORKS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

After fixing Bitdefender, test in Terminal:

curl https://oasis-rubber-linking-established.trycloudflare.com

If you see HTML content â†’ âœ… SSL works!
If you see SSL error â†’ âŒ Still blocked

Then build in Xcode and run on simulator.

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

